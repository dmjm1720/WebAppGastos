<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//ES" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:head>


    </h:head>
    <h:body>
        <ui:composition template="./../../plantilla/plantilla.xhtml">

            <ui:define name="content">
                <p:idleMonitor  onactive="PF('sessionTimeOutDialog').show()" timeout="1800000" />
                <p:dialog style="font-size: 15px;" header="Sistema de Gastos Marubeni México" widgetVar="sessionTimeOutDialog" 
                          modal="true" closable="false" width="775" height="280" resizable="false" visible="false">                    
                    <img src="../../Images/expired.png" alt=""/><br></br><br></br><br></br>
                    <h:outputText style="color: #CC0505; font-size: 16px; " value="Tu sesión actual ha expirado, para continuar cierra esta ventana o presiona F5 y vuelve a iniciar sesión." />
                </p:dialog>
                <h2>
                    <img src="../../Images/registro.png" style="width: 90px; height: 90px" alt=""/>
                    REGISTRAR GASTOS DEL VIAJE  NACIONAL-EXTRANJERO
                </h2>

                <h:form>
                    <p:growl id="mensaje" showSummary="true" showDetail="true"/>
                </h:form>
                <h:form id="frmMain">

                    <p:outputLabel value="#{usuarioBean.usuario.nombre}"/>
                    <p:commandButton id="track" style="height: 45px; width: 45px; background-image: url('../..//Images/flight.png');background-size: 45px; background-repeat: no-repeat" value=""
                                     actionListener="#{viajeBean.prepararNuevoViaje()}" oncomplete="PF('dlg3').show();" update=":frmNuevoViaje,:frmNuevoExtranejero">
                    </p:commandButton>
                    <p:tooltip id="ttrack" for="track" value="Agregar un nuevo gasto de viaje" trackMouse="true"/>  
                    <p:dialog header="Marubeni México" widgetVar="dlg2" style="text-align: center; font-size: 12px;" modal="true" showEffect="drop" hideEffect="scale" height="120" width="250">
                        <br></br>
                        <h:outputText value="¿TIPO DE VIAJE A CAPTURAR?" />
                        <br></br>
                        <br></br>
                        <br></br>
                        <p:button id="nacional" style="height: 45px; width: 70px; background-image: url('../..//Images/mx.png');background-size: 50px; background-repeat: no-repeat" 
                                  outcome="ConceptoAvion.jsf" value="" >                                  
                        </p:button>
                        <p:tooltip id="nac" for="nacional" value="Gasto Nacional" trackMouse="true" />
                        <p:button id="extranjero" style="height: 45px; width: 70px; background-image: url('../..//Images/mundo.png');background-size: 50px; background-repeat: no-repeat" 
                                  outcome="/Views/Extranjero/USDConceptoAvion.jsf" value="">      
                        </p:button>
                        <p:tooltip id="ext" for="extranjero" value="Gastos Extranjero" trackMouse="true" />
                    </p:dialog>
                    <!--PARA PREGUNTAR SI ES EXTRANJERO O NACIONAL EL ENCABEZADO-->
                    <p:dialog header="¿Registrar Gasto Nacional o Extranjero?" widgetVar="dlg3" style="text-align: center; font-size: 12px;" modal="true" showEffect="drop" hideEffect="scale" height="120" width="250">
                        <br></br>
                        <h:outputText value="¿Registrar Gasto Nacional o Extranjero?" />
                        <br></br>
                        <br></br>
                        <br></br>
                        <p:commandButton id="id1" style="height: 45px; width: 70px; background-image: url('../..//Images/mx.png');background-size: 50px; background-repeat: no-repeat" 
                                         onclick="PF('dialogNuevoViaje').show();PF('dlg3').hide();" value="" update="frmMain" />                                  
                        <p:tooltip id="nac1" for="id1" value="Registrar Gasto de Viaje Nacional" trackMouse="true" />
                        &nbsp;<p:commandButton id="id2" style="height: 45px; width: 70px; background-image: url('../..//Images/mundo.png');background-size: 50px; background-repeat: no-repeat" 
                                               onclick="PF('dialogNuevoExtra').show();PF('dlg3').hide();" value="">      
                        </p:commandButton>
                        <p:tooltip id="ext1" for="id2" value="Registrar Gasto de Viaje al Extranjero" trackMouse="true" />
                    </p:dialog>
                    <!--PARA PREGUNTAR SI ES EXTRANJERO O NACIONAL EL ENCABEZADO-->
                </h:form>
                <br></br>
                <h:form id="frmViaje"> 
                    <p:panel id="pnl" header="" style="margin: 0 auto; text-align: center;">
                        <p:layout id="capaDatosViaje" style="width: 100%; height: 325px;">
                            <p:layoutUnit id="datosConcepto" position="center" style="padding: 5px; text-align: center;">

                                <p:dataTable id="tablaViaje" paginator="true" paginatorPosition="top" var="tbl" value="#{viajeBean.listaViaje}">
                                    <p:column headerText="Folio">
                                        <h:outputText value="#{tbl.departamento.substring(0,2)}-#{tbl.nombreViajero}-#{tbl.fechaAno}-#{tbl.folioUsuario}"/>
                                    </p:column>
                                    <p:column headerText="Fecha">
                                        <h:outputText value="#{tbl.fechaDocumento}"/>
                                    </p:column>
                                    <p:column headerText="Oficina">
                                        <h:outputText value="#{tbl.oficina}"/>
                                    </p:column>
                                    <p:column headerText="Departamento">
                                        <h:outputText value="#{tbl.departamento}"/>
                                    </p:column>
                                    <p:column headerText="Origen">
                                        <h:outputText value="#{tbl.origen}"/>
                                    </p:column>
                                    <p:column headerText="Destino">
                                        <h:outputText value="#{tbl.destino}"/>
                                    </p:column>
                                    <p:column headerText="Propósito">
                                        <h:outputText value="#{tbl.proposito}"/>
                                    </p:column>
                                    <p:column headerText="Fecha de salida">
                                        <h:outputText value="#{tbl.fechaOrigen}"/>
                                    </p:column>                                                                    
                                    <p:column headerText="Fecha de regreso">
                                        <h:outputText value="#{tbl.fechaLlegada}"/>
                                    </p:column>                                           
                                    <p:column headerText="Estatus Captura">
                                        <h:outputText value="#{tbl.status}"/>
                                    </p:column>                       
                                    <p:column headerText="Días de viaje">
                                        <h:outputText value="#{tbl.dias}"/>
                                    </p:column>                                                                                  
                                    <p:column headerText="T. Cambio">
                                        <h:outputText value="#{tbl.tipoCambio}"/>
                                    </p:column>                       
                                    <p:column headerText="T. Moneda">
                                        <h:outputText value="#{tbl.tipoMoneda   }"/>
                                    </p:column>                       
                                    <p:column headerText="Anticipo">
                                        <h:outputText value="#{tbl.totalAsignado}"/>
                                    </p:column>
                                    <p:column headerText="T. Viaje">
                                        <h:outputText id="tipo" value="#{tbl.tipoViaje}"/>
                                    </p:column>
                                    <p:column headerText="Reporte" style="width: 35px;">
                                        <p:commandButton id="trackr" style="height: 35px; width: 35px; 
                                                         background-image: url('../..//Images/repMarubeni.png');
                                                         background-size: 30px; background-repeat: no-repeat" value="" oncomplete="PF('dlgReporte1').show();"                                                 
                                                         update="frmViewPol">
                                            <f:setPropertyActionListener target="#{viajeBean.viaje}" value="#{tbl}"/>
                                        </p:commandButton>
                                        <p:tooltip id="toolTipTrackr" for="trackr" value="Ver reporte" trackMouse="true" />
                                    </p:column>
                                    <!--INICIA VER DETALLE DEL GASTO-->
                                    <p:column headerText="Detalle" style="width: 30px;">
                                        <p:commandButton id="trackdetalle" style="height: 35px; width: 35px; 
                                                         background-image: url('../..//Images/ver2.png');
                                                         background-size: 30px; background-repeat: no-repeat" 
                                                         value="" oncomplete="PF('dlgVerDetalleViaje').show();"                                                 
                                                         update="frmDetalleViaje" actionListener="#{viajeBean.listarViajeConcepto(tbl.nombreViajero, tbl.folioUsuario)}">
                                            <f:setPropertyActionListener target="#{viajeBean.viajeConcepto}" value="#{tbl}"/>
                                        </p:commandButton>
                                        <p:tooltip id="toolTipTrackd" for="trackdetalle" value="Ver detalle" trackMouse="true" />
                                    </p:column>
                                    <!--FINALIZAR VER DETALLE DEL GASTO-->
                                    <p:column headerText="Editar encabezado" style="width: 45px;">
                                        <p:commandButton id="track" style="height: 35px; width: 35px; 
                                                         background-image: url('../..//Images/edit1.png');
                                                         background-size: 30px; background-repeat: no-repeat" value="" 
                                                         oncomplete="PF('dialogModificarViaje').show();"                                                 
                                                         update="frmModificarViaje">
                                            <f:setPropertyActionListener target="#{viajeBean.viaje}" value="#{tbl}"/>
                                        </p:commandButton>
                                        <p:tooltip id="toolTipTrack" for="track" value="Editar encabezado del viaje" trackMouse="true" />
                                    </p:column>
                                    <p:column headerText="Editar gastos" style="width: 45px;">
                                        <p:commandButton id="trackg" style="height: 35px; width: 35px; 
                                                         background-image: url('../..//Images/edit2.png');
                                                         background-size: 30px; background-repeat: no-repeat" value="" 
                                                         oncomplete="PF('dlgAgregar').show();"                                                 
                                                         update="frmAgregar">
                                            <f:setPropertyActionListener target="#{viajeBean.viaje}" value="#{tbl}"/>
                                        </p:commandButton>
                                        <p:tooltip id="toolTipTrackg" for="trackg" value="Editar-Agregar Gastos" trackMouse="true" />
                                    </p:column>
                                    <p:column headerText="Cerrar captura" style="width: 45px;">
                                        <p:commandButton id="track2"  style="height: 35px; width: 35px; 
                                                         background-image: url('../..//Images/correo.png');
                                                         background-size: 30px; background-repeat: no-repeat" value="" 
                                                         oncomplete="PF('dialogProcesarViaje').show();"
                                                         update="frmModificarViaje">
                                            <f:setPropertyActionListener target="#{viajeBean.viaje}" value="#{tbl}"/>
                                        </p:commandButton>
                                        <p:tooltip id="toolTipTrack2" for="track2" value="Cerrar captura y enviar" trackMouse="true" />
                                    </p:column>
                                    <p:column headerText="Borrar" style="width: 30px;">
                                        <p:commandButton id="borrar"  style="height: 35px; width: 35px; 
                                                         background-image: url('../..//Images/trash-empty.ico');
                                                         background-size: 30px; background-repeat: no-repeat" value="" 
                                                         oncomplete="PF('dialogEliminarConcepto').show();"
                                                         update="frmEliminarConcepto">
                                            <f:setPropertyActionListener target="#{viajeBean.viaje}" value="#{tbl}"/>
                                        </p:commandButton>
                                        <p:tooltip id="tttborrar" for="borrar" value="Borrar reporte" trackMouse="true" />
                                    </p:column>
                                </p:dataTable>
                            </p:layoutUnit>                              
                        </p:layout>
                    </p:panel>
                </h:form>

                <!--INICIA ELIMINAR VIAJE-->
                <h:form id="frmEliminarConcepto">
                    <p:growl id="mensaje" showSummary="true" showDetail="true"/>
                    <p:dialog style="font-size: 12px;" id="dlgEliminarConcepto" header="Eliminar registro" widgetVar="dialogEliminarConcepto" 
                              height="180" width="450" resizable="false" showEffect="clip" hideEffect="clip" modal="true">
                        <br></br>
                        <h:outputText style="color: #000; font-weight: bold; font-size: 13px" value="¿Deseas eliminar completamente este gasto de viaje del sistema?"/><br></br><br></br><br></br><br></br>
                        <p:spacer height="10" width="150"/>
                        <p:commandButton id="t9" style="height: 35px; width: 50px; background-image: url('../..//Images/si.png');background-size: 30px; background-repeat: no-repeat"
                                         value="" actionListener="#{viajeBean.borrarViaje()}" update="frmViaje:tablaViaje, mensaje" oncomplete="PF('dialogEliminarConcepto').hide();">
                        </p:commandButton>

                        <p:tooltip id="toolTipTrackt9" for="t9" trackMouse="true" value="Eliminar definitivamente el registro"/>
                        &nbsp;<p:commandButton id="t10" style="height: 35px; width: 50px; background-image: url('../..//Images/no.png');background-size: 30px; background-repeat: no-repeat"
                                               value="" oncomplete="PF('dialogEliminarConcepto').hide();">
                        </p:commandButton>
                        <br></br>
                        <br></br>
                        <br></br>
                        <p:tooltip id="toolTipTrackt10" for="t10" trackMouse="true" value="Cancelar"/>
                        <h:outputText style="color: #000; font-weight: bold" value="Nota: Recuerda que esta acción es irreversible"/>
                    </p:dialog>
                </h:form>
                <!--FINALIZA ELIMINAR VIAJE-->


                <h:form id="frmViewPol">
                    <p:growl id="mensaje" showSummary="true" showDetail="true"/>
                    <p:dialog style="font-size: 12px;" id="dlgViewPol" header="Ver reporte de gastos" widgetVar="dlgReporte1" resizable="false" 
                              showEffect="clip" hideEffect="clip" modal="true">
                        <p:panelGrid columns="2" style="margin: 0 auto">
                            <p:outputLabel value="Tipo:"/>
                            <p:inputText id="tipo" style="width: 100px;" value="#{viajeBean.viaje.tipoViaje}" readonly="true"/>
                            <p:outputLabel value="Nombre: "/>
                            <p:inputText id="codigo" style="width: 100px;" value="#{viajeBean.viaje.nombreViajero}" readonly="true"/>
                            <p:outputLabel value="Folio: "/>
                            <p:inputText id="folio" style="width: 100px;" value="#{viajeBean.viaje.folioUsuario}" readonly="true"/>
                        </p:panelGrid>
                        <p:spacer width="70" />
                        <h:commandLink id="reporte" 
                                       value="" 
                                       style="height: 30px; font-size: 16px" 
                                       target="_blank" 
                                       actionListener="#{viajeBean.reporteViajeBean()}" onclick="PF('dlgReporte1').hide()">
                            <h:graphicImage url="/Images/printer.ico" style="height: 40px"/> 
                        </h:commandLink> 
                        <p:tooltip id="ttprinter" for="reporte" value="Imprimir reporte" trackMouse="true" />

                    </p:dialog>
                </h:form>

                <h:form id="frmNuevoViaje" onsubmit="validar();">
                    <p:growl id="mensaje" showSummary="true" showDetail="true"/>
                    <p:dialog style="font-size: 12px;" id="dlgnuevoUsuario" header="Agregar viaje" widgetVar="dialogNuevoViaje" resizable="false" showEffect="blind"  hideEffect="drop"  modal="true">
                        <p:panel id="pnlNacional">
                            <p:panelGrid id="panelNac" columns="2" style="margin: 0 auto">                              
                                <p:outputLabel value="Código SAP"/>
                                <p:selectOneMenu required="true" style="width: 200px;" value="#{viajeBean.viaje.nombreViajero}">
                                    <f:selectItems value="#{viajeBean.listNombreUsuario}"/>
                                </p:selectOneMenu> 

                                <p:outputLabel value="Tipo de Viaje"/>
                                <p:selectOneMenu required="true" style="width: 200px;" value="#{viajeBean.viaje.tipoViaje}">
                                    <f:selectItem itemLabel="Nacional" itemValue="Nacional"/>
                                </p:selectOneMenu>
                                <p:outputLabel value="Oficina"/>
                                <p:selectOneMenu required="true" style="width: 200px;" label="Seleccione Oficina" value="#{viajeBean.viaje.oficina}">
                                    <f:selectItem itemLabel="Selecione oficina" itemValue=""/>
                                    <f:selectItem itemLabel="Ciudad de México" itemValue="Ciudad de México"/>
                                    <f:selectItem itemLabel="Querétaro" itemValue="Querétaro"/>
                                    <f:selectItem itemLabel="Zacatecas" itemValue="Zacatecas"/>
                                    <f:selectItem itemLabel="Hermosillo" itemValue="Hermosillo"/>
                                    <f:selectItem itemLabel="Lázaro Cárdenas" itemValue="Lázaro Cárdenas"/>
                                    <f:selectItem itemLabel="Chihuahua" itemValue="Chihuahua"/>
                                </p:selectOneMenu>

                                <p:outputLabel value="Departamento"/>
                                <p:selectOneMenu required="true" style="width: 200px;" label="Seleccione departamento" value="#{viajeBean.viaje.departamento}">
                                    <f:selectItem itemLabel="Selecione departamento" itemValue=""/>
                                    <f:selectItems value="#{CategoriaBean.listPorDepto}"/>  
                                </p:selectOneMenu> 

                                <p:outputLabel value="Origen"/>
                                <p:inputText style="width: 300px;" value="#{viajeBean.viaje.origen}" label="Ingrese origen" required="true" placeholder="Ingrese origen" onkeyup="javascript:this.value = this.value.toUpperCase();"/>

                                <p:outputLabel value="Destino"/>
                                <p:inputText style="width: 300px;" value="#{viajeBean.viaje.destino}" label="Ingrese destino" required="true" placeholder="Ingrese destino" onkeyup="javascript:this.value = this.value.toUpperCase();"/>

                                <p:outputLabel value="Propósito"/>
                                <p:inputTextarea style="width: 350px;"  value="#{viajeBean.viaje.proposito}" label="Ingrese propósito del viaje" required="true"  placeholder="Ingrese propósito del viaje"  onkeyup="javascript:this.value = this.value.toUpperCase();">
                                    <f:validateLength minimum="1" maximum="100" />
                                    <p:ajax update="mensaje" event="keyup" />
                                </p:inputTextarea>

                                <p:outputLabel value="Fecha de salida" />
                                <p:calendar  id="fecha_inicio" mindate="-2m"  yearRange="#{dateBean.range}"  effect="blind" effectDuration="13000" pages="2" showOn="button" style="width: 150px;" value="#{viajeBean.viaje.fechaOrigen}" required="true" placeholder="Ingrese fecha de salida">
                                    <p:ajax event="dateSelect" update="fecha_fin"/>
                                </p:calendar>                                               

                                <p:outputLabel value="Fecha de llegada"/>
                                <p:calendar id="fecha_fin" effect="blind" effectDuration="13000" pages="2" showOn="button" style="width: 150px;" value="#{viajeBean.viaje.fechaLlegada}" required="true"  placeholder="Ingrese fecha de llegada" >
                                    <p:ajax event="change" update="fecha_fin"/>
                                </p:calendar>                                                      

                                <p:outputLabel value="Anticipo"/>
                                <p:inputNumber style="width: 300px;" value="#{viajeBean.viaje.totalAsignado}" label="Ingrese anticipo o coloque 0" required="true" placeholder="Ingrese anticipo" onkeyup="javascript:this.value = this.value.toUpperCase();"/>

                                <p:outputLabel value="Mutual"/>
                                <p:selectOneMenu required="true" style="width: 200px;" label="Seleccione mutual" value="#{viajeBean.viaje.mutual}">
                                    <f:selectItem itemLabel="Seleccione si es mutual" itemValue=""/>
                                    <f:selectItem itemLabel="Si" itemValue="Si"/>
                                    <f:selectItem itemLabel="No" itemValue="No"/>
                                    <p:ajax update="sec1,sec2" />  
                                </p:selectOneMenu> 

                                <p:outputLabel value="Sección"/>
                                <p:inputText id="sec1" style="width: 300px;" disabled="#{viajeBean.viaje.mutual=='No'}" value="#{viajeBean.viaje.seccion}" placeholder="Ingrese sección" onkeyup="javascript:this.value = this.value.toUpperCase();"/>

                                <p:outputLabel value="Comentario"/>
                                <p:inputTextarea id="sec2" style="width: 300px;" disabled="#{viajeBean.viaje.mutual=='No'}" value="#{viajeBean.viaje.comentario}" placeholder="Ingrese comentario" onkeyup="javascript:this.value = this.value.toUpperCase();"/>

                            </p:panelGrid>
                        </p:panel>
                        <p:commandButton id="track" style="height: 35px; width: 60px; background-image: url('../..//Images/save.png');background-size: 25px; background-repeat: no-repeat"  value=""  actionListener="#{viajeBean.nuevoViaje()}" 
                                         update="pnlNacional,mensaje,frmViaje">
                        </p:commandButton>
                        <p:tooltip id="toolTipTrack" for="track" value="Guardar" trackMouse="true" />
                        <p:commandButton id="track1" style="height: 35px; width: 60px; background-image: url('../..//Images/cancel.png');background-size: 25px; background-repeat: no-repeat"  value="" update="mensaje" oncomplete="PF('dialogNuevoViaje').hide();"/>
                        <p:tooltip id="toolTipTrack1" for="track1" value="Cancelar" trackMouse="true" />
                    </p:dialog>

                </h:form>
                <!--PARA CAPTURAR LOS DATOS DEL EXTRANJERO-->
                <h:form id="frmNuevoExtranejero" onsubmit="validar();">
                    <p:growl id="mensaje" showSummary="true" showDetail="true"/>
                    <p:dialog style="font-size: 12px;" id="dlgnuevoUsuario" header="Agregar viaje extranjero" 
                              widgetVar="dialogNuevoExtra" resizable="false" showEffect="blind"  hideEffect="drop"  modal="true">
                        <p:panel id="pnlExtranjero">
                            <p:panelGrid columns="2" style="margin: 0 auto">                          
                                <p:outputLabel value="Código SAP"/>
                                <p:selectOneMenu required="true" style="width: 200px;" value="#{viajeBean.viaje.nombreViajero}">
                                    <f:selectItems value="#{viajeBean.listNombreUsuario}"/>
                                </p:selectOneMenu> 
                                <p:outputLabel value="Tipo de Viaje"/>
                                <p:selectOneMenu required="true" style="width: 200px;" value="#{viajeBean.viaje.tipoViaje}">
                                    <f:selectItem itemLabel="Extranjero" itemValue="Extranjero"/>
                                </p:selectOneMenu>
                                <p:outputLabel value="Oficina"/>
                                <p:selectOneMenu required="true" style="width: 200px;" label="Seleccione oficina" value="#{viajeBean.viaje.oficina}">
                                    <f:selectItem itemLabel="Selecione oficina" itemValue=""/>
                                    <f:selectItem itemLabel="Ciudad de México" itemValue="Ciudad de México"/>
                                    <f:selectItem itemLabel="Querétaro" itemValue="Querétaro"/>
                                    <f:selectItem itemLabel="Zacatecas" itemValue="Zacatecas"/>
                                    <f:selectItem itemLabel="Hermosillo" itemValue="Hermosillo"/>
                                    <f:selectItem itemLabel="Lázaro Cárdenas" itemValue="Lázaro Cárdenas"/>
                                    <f:selectItem itemLabel="Chihuahua" itemValue="Chihuahua"/>
                                </p:selectOneMenu>

                                <p:outputLabel value="Departamento"/>
                                <p:selectOneMenu required="true" style="width: 200px;" label="Seleccione departamento" value="#{viajeBean.viaje.departamento}">
                                    <f:selectItem itemLabel="Selecione departamento" itemValue=""/>
                                    <f:selectItems value="#{CategoriaBean.listPorDepto}"/>  
                                </p:selectOneMenu> 

                                <p:outputLabel value="Origen"/>
                                <p:inputText style="width: 300px;" value="#{viajeBean.viaje.origen}" label="Ingrese origen" required="true" placeholder="ingrese origen" onkeyup="javascript:this.value = this.value.toUpperCase();"/>                                           

                                <p:outputLabel value="Destino"/>
                                <p:inputText style="width: 300px;" value="#{viajeBean.viaje.destino}" label="Ingrese destino" required="true" placeholder="Ingrese destino" onkeyup="javascript:this.value = this.value.toUpperCase();"/>

                                <p:outputLabel value="Propósito"/>
                                <p:inputTextarea style="width: 350px;"  value="#{viajeBean.viaje.proposito}" label="Ingrese propósito del viaje" required="true"  placeholder="Ingrese propósito"  onkeyup="javascript:this.value = this.value.toUpperCase();">
                                    <f:validateLength minimum="1" maximum="100" />
                                    <p:ajax update="mensaje" event="keyup" />
                                </p:inputTextarea>

                                <p:outputLabel value="Fecha de salida" />
                                <p:calendar  id="fecha_inicio" mindate="-2m"  yearRange="#{dateBean.range}" effect="blind" effectDuration="13000" pages="2" showOn="button" style="width: 150px;" value="#{viajeBean.viaje.fechaOrigen}" required="true" placeholder="Ingrese fecha de salida">
                                    <p:ajax event="dateSelect" update="fecha_fin"/>
                                </p:calendar>                                               

                                <p:outputLabel value="Fecha de llegada"/>
                                <p:calendar id="fecha_fin" effect="blind" effectDuration="13000" pages="2" showOn="button" style="width: 150px;" value="#{viajeBean.viaje.fechaLlegada}" required="true"  placeholder="Ingrese fecha de llegada" >
                                    <p:ajax event="change" update="fecha_fin"/>
                                </p:calendar>                                                      

                                <p:outputLabel value="Tipo de cambio"/>
                                <p:inputText style="width: 150px;" value="#{viajeBean.viaje.tipoCambio}" label="Ingrese tipo de cambio" required="true" placeholder="ingrese tipo de cambio" onkeyup="javascript:this.value = this.value.toUpperCase();"/>

                                <p:outputLabel value="Tipo de moneda"/>
                                <p:selectOneMenu required="true" style="width: 200px;" label="Seleccione tipo de moneda" value="#{viajeBean.viaje.tipoMoneda}">
                                    <f:selectItem itemLabel="Selecione tipo de moneda" itemValue=""/>
                                    <f:selectItem itemLabel="USD" itemValue="USD"/>
                                    <f:selectItem itemLabel="MXN" itemValue="MXN"/>
                                </p:selectOneMenu>

                                <p:outputLabel value="Anticipo"/>
                                <p:inputNumber style="width: 300px;" value="#{viajeBean.viaje.totalAsignado}" label="Ingrese anticipo o coloque 0" required="true" placeholder="Ingrese anticipo" onkeyup="javascript:this.value = this.value.toUpperCase();"/>

                                <p:outputLabel value="Mutual"/>
                                <p:selectOneMenu required="true" style="width: 200px;" label="Seleccione mutual" value="#{viajeBean.viaje.mutual}">
                                    <f:selectItem itemLabel="Seleccione si es mutual" itemValue=""/>
                                    <f:selectItem itemLabel="Si" itemValue="Si"/>
                                    <f:selectItem itemLabel="No" itemValue="No"/>
                                    <p:ajax update="sec1,sec2" />  
                                </p:selectOneMenu> 

                                <p:outputLabel value="Sección"/>
                                <p:inputText id="sec1" style="width: 300px;" disabled="#{viajeBean.viaje.mutual=='No'}" value="#{viajeBean.viaje.seccion}" placeholder="Ingrese sección" onkeyup="javascript:this.value = this.value.toUpperCase();"/>

                                <p:outputLabel value="Comentario"/>
                                <p:inputTextarea id="sec2" style="width: 300px;" disabled="#{viajeBean.viaje.mutual=='No'}" value="#{viajeBean.viaje.comentario}" placeholder="Ingrese comentario" onkeyup="javascript:this.value = this.value.toUpperCase();"/>

                            </p:panelGrid>
                        </p:panel>
                        <p:commandButton id="track" style="height: 35px; width: 60px; background-image: url('../..//Images/save.png');background-size: 25px; background-repeat: no-repeat"  value=""  actionListener="#{viajeBean.nuevoViaje()}" 
                                         update="pnlExtranjero,mensaje,frmViaje" >
                        </p:commandButton>
                        <p:tooltip id="toolTipTrack" for="track" value="Guardar" trackMouse="true" />
                        <p:commandButton id="track1" style="height: 35px; width: 60px; background-image: url('../..//Images/cancel.png');background-size: 25px; background-repeat: no-repeat"  value="" update="mensaje" oncomplete="PF('dialogNuevoViaje').hide();"/>
                        <p:tooltip id="toolTipTrack1" for="track1" value="Cancelar" trackMouse="true" />
                    </p:dialog>

                </h:form>

                <!--Editar viaje-->
                <h:form id="frmModificarViaje">
                    <p:growl id="mensaje" showSummary="true" showDetail="true"/>
                    <p:dialog style="font-size: 12px;" id="dlgModificarUsuario" header="Modificar viaje" widgetVar="dialogModificarViaje" 
                              resizable="false" 
                              showEffect="clip" hideEffect="clip" modal="true">
                        <p:panelGrid columns="2" style="margin: 0 auto">
                            <p:outputLabel value="Nombre usuario"/>
                            <p:selectOneMenu required="true" style="width: 200px;" value="#{viajeBean.viaje.nombreViajero}">
                                <f:selectItems value="#{viajeBean.listNombreUsuario}"/>
                            </p:selectOneMenu> 
                            <p:outputLabel value="Tipo de Viaje"/>
                            <p:selectOneMenu required="true" style="width: 200px;" value="#{viajeBean.viaje.tipoViaje}">
                                <f:selectItem itemLabel="Extranjero" itemValue="Extranjero"/>
                                <f:selectItem itemLabel="Nacional" itemValue="Nacional"/>
                                <p:ajax update="sec3,sec4" />  
                            </p:selectOneMenu>
                            <p:outputLabel value="Oficina"/>
                            <p:selectOneMenu required="true" style="width: 200px;" value="#{viajeBean.viaje.oficina}">
                                <f:selectItem itemLabel="Selecione opcion" itemValue=""/>
                                <f:selectItem itemLabel="Ciudad de México" itemValue="Ciudad de México"/>
                                <f:selectItem itemLabel="Querétaro" itemValue="Querétaro"/>
                                <f:selectItem itemLabel="Zacatecas" itemValue="Zacatecas"/>
                                <f:selectItem itemLabel="Hermosillo" itemValue="Hermosillo"/>
                                <f:selectItem itemLabel="Lázaro Cárdenas" itemValue="Lázaro Cárdenas"/>
                                <f:selectItem itemLabel="Chihuahua" itemValue="Chihuahua"/>
                            </p:selectOneMenu>

                            <p:outputLabel value="Departamento"/>
                            <p:selectOneMenu required="true" style="width: 200px;" value="#{viajeBean.viaje.departamento}">
                                <f:selectItem itemLabel="Selecione departamento" itemValue=""/>
                                <f:selectItems value="#{CategoriaBean.listPorDepto}"/>  
                            </p:selectOneMenu>                           

                            <p:outputLabel value="Origen"/>
                            <p:inputText style="width: 300px;" value="#{viajeBean.viaje.origen}" required="true" placeholder="ingrese origen" onkeyup="javascript:this.value = this.value.toUpperCase();"/>

                            <p:outputLabel value="Destino"/>
                            <p:inputText style="width: 300px;" value="#{viajeBean.viaje.destino}" required="true" placeholder="Ingrese destino" onkeyup="javascript:this.value = this.value.toUpperCase();"/>

                            <p:outputLabel value="Propósito"/>
                            <p:inputTextarea style="width: 350px;"  value="#{viajeBean.viaje.proposito}" required="true"  placeholder="Ingrese propósito"  onkeyup="javascript:this.value = this.value.toUpperCase();">
                                <f:validateLength minimum="1" maximum="100" />
                                <p:ajax update="mensaje" event="keyup" />
                            </p:inputTextarea>

                            <p:outputLabel value="Fecha de salida" />
                            <p:calendar id="ini" mindate="-2m" effect="explode" effectDuration="13000" pages="2" showOn="button" style="width: 150px;" value="#{viajeBean.viaje.fechaOrigen}" required="true" placeholder="Ingrese fecha origen">
                                <p:ajax event="dateSelect" update="fin"/>
                            </p:calendar>                                                            
                            <p:outputLabel value="Fecha de llegada"/>
                            <p:calendar id="fin" effect="explode" effectDuration="13000" pages="2" showOn="button" style="width: 150px;" value="#{viajeBean.viaje.fechaLlegada}" required="true"  placeholder="Ingrese fecha llegada" >
                                <p:ajax event="change" update="fin"/>
                            </p:calendar>
                            <p:outputLabel value="Tipo de cambio"/>
                            <p:inputText id="sec3" style="width: 150px;" disabled="#{viajeBean.viaje.tipoViaje=='Nacional'}" value="#{viajeBean.viaje.tipoCambio}" label="Ingrese tipo de cambio" required="true" placeholder="ingrese tipo de cambio" onkeyup="javascript:this.value = this.value.toUpperCase();"/>
                            <p:outputLabel value="Anticipo"/>
                            <p:inputNumber style="width: 300px;" value="#{viajeBean.viaje.totalAsignado}" required="true" placeholder="Ingrese anticipo" onkeyup="javascript:this.value = this.value.toUpperCase();"/>

                            <p:outputLabel value="Tipo de moneda"/>
                            <p:selectOneMenu id="sec4" required="true" style="width: 200px;" disabled="#{viajeBean.viaje.tipoViaje=='Nacional'}" label="Seleccione tipo de moneda" value="#{viajeBean.viaje.tipoMoneda}">
                                <f:selectItem itemLabel="Selecione tipo de moneda" itemValue=""/>
                                <f:selectItem itemLabel="USD" itemValue="USD"/>
                                <f:selectItem itemLabel="MXN" itemValue="MXN"/>
                            </p:selectOneMenu>
                            <p:outputLabel value="Mutual"/>
                            <p:selectOneMenu required="true" style="width: 200px;" label="Seleccione mutual" value="#{viajeBean.viaje.mutual}">
                                <f:selectItem itemLabel="Seleccione si es mutual" itemValue=""/>
                                <f:selectItem itemLabel="Si" itemValue="Si"/>
                                <f:selectItem itemLabel="No" itemValue="No"/>
                                <p:ajax update="sec1,sec2" />  
                            </p:selectOneMenu> 
                            <p:outputLabel value="Sección"/>
                            <p:inputText id="sec1" style="width: 300px;" disabled="#{viajeBean.viaje.mutual=='No'}" value="#{viajeBean.viaje.seccion}" placeholder="Ingrese sección" onkeyup="javascript:this.value = this.value.toUpperCase();"/>

                            <p:outputLabel value="Comentario"/>
                            <p:inputTextarea id="sec2" style="width: 300px;" disabled="#{viajeBean.viaje.mutual=='No'}" value="#{viajeBean.viaje.comentario}" placeholder="Ingrese comentario" onkeyup="javascript:this.value = this.value.toUpperCase();"/>
                        </p:panelGrid>
                        <p:commandButton id="track" style="height: 35px; width: 60px; background-image: url('../..//Images/save.png');background-size: 25px; background-repeat: no-repeat"  value="" actionListener="#{viajeBean.modificarViaje()}" 
                                         update="frmViaje:tablaViaje, mensaje" 
                                         oncomplete="PF('dialogModificarViaje').hide();">
                        </p:commandButton>
                        <p:tooltip id="toolTipTrack" for="track" value="Guardar" trackMouse="true" />
                        <p:commandButton id="track1" style="height: 35px; width: 60px; background-image: url('../..//Images/cancel.png');background-size: 25px; background-repeat: no-repeat"  value=""                                          
                                         oncomplete="PF('dialogModificarViaje').hide();">                                            
                        </p:commandButton>
                        <p:tooltip id="toolTipTrack1" for="track1" value="Cancelar" trackMouse="true" />
                    </p:dialog>

                </h:form>
                <h:form id="frmAgregar">
                    <p:growl id="mensaje" showSummary="true" showDetail="true"/>
                    <p:dialog style="font-size: 12px;" id="dlgAgregarGto" header="Agregar gastos" widgetVar="dlgAgregar" resizable="false" 
                              showEffect="clip" hideEffect="clip" modal="true">
                        <p:panelGrid columns="2" style="margin: 0 auto">                                                       
                            <p:outputLabel value="Tipo Viaje"/>
                            <p:inputText id="tipo" style="width: 100px;background-color: #CC0505; color: white" value="#{viajeBean.viaje.tipoViaje}" readonly="true"/>                          
                            <p:outputLabel value="Folio"/>
                            <p:inputText id="foliador" style="width: 120px; background-color: #CC0505; color: white" value="#{viajeBean.viaje.departamento.substring(0,2)}-#{viajeBean.viaje.nombreViajero}-#{viajeBean.viaje.fechaAno.substring(0,2)}-#{viajeBean.viaje.folioUsuario}" readonly="true"/>                          
                        </p:panelGrid>
                        <p:commandButton id="track" style="height: 35px; width: 60px; background-image: url('../..//Images/new.png');background-size: 38px; background-repeat: no-repeat"  value="" 
                                         actionListener="#{viajeBean.tipoNE()}" 
                                         update="frmAgregar,frmViaje:tablaViaje, mensaje" 
                                         oncomplete="PF('dialogModificarViaje').hide();">
                        </p:commandButton>
                        <p:tooltip id="toolTipTrack" for="track" value="***Agregar / Editar gastos*** " trackMouse="true" />
                    </p:dialog>

                </h:form>
                <h:form id="frmNacional">
                    <p:growl id="mensaje" showSummary="true" showDetail="true"/>
                    <p:dialog style="font-size: 12px;" id="dlgNac" header="Agregar gastos" widgetVar="dlgNacional" resizable="false" 
                              showEffect="scale" hideEffect="puff" modal="true">
                        <iframe height="680" width="1080" src="/WebAppGastos/Views/Gastos/ConceptoAvion.jsf">                          
                        </iframe>
                    </p:dialog>
                </h:form>

                <h:form id="frmExtranejro">
                    <p:growl id="mensaje" showSummary="true" showDetail="true"/>
                    <p:dialog style="font-size: 12px;" id="dlgExt" header="Agregar gastos" widgetVar="dlgExtranjero" resizable="false" 
                              showEffect="clip" hideEffect="clip" modal="true">
                        <iframe height="680" width="1080" src="/WebAppGastos/Views/Extranjero/USDConceptoAvion.jsf">                          
                        </iframe>
                    </p:dialog>
                </h:form>

                <h:form id="frmProcesarViaje">
                    <p:blockUI block="panel" trigger="track">   
                        <h4 style="font-size: 15px; color: black">Enviando gasto del viaje...</h4><br></br>
                        <p:graphicImage value="../../Images/mail2.gif" style="height: 110px; width: 230px"/>
                    </p:blockUI>
                    <p:panel id="panel">

                        <p:growl id="mensaje" showSummary="true" showDetail="true"/>
                        <p:dialog style="font-size: 12px;" id="dlgProcesarViaje" 
                                  header="Cerrar y enviar captura de gasto de viaje." 
                                  widgetVar="dialogProcesarViaje" 
                                  resizable="false" 
                                  showEffect="clip" 
                                  hideEffect="clip" 
                                  modal="true">
                            <p:panelGrid columns="2" style="margin: 0 auto">
                                <p:outputLabel value="Cerrar captura de viaje"/>
                                <p:selectOneMenu required="true" style="width: 200px;" value="#{viajeBean.viaje.status}">
                                    <f:selectItem itemLabel="Cerrar" itemValue="Cerrar"/>
                                </p:selectOneMenu>                                                    
                            </p:panelGrid>
                            <p:commandButton id="track" style="height: 35px; width: 60px; background-image: url('../..//Images/correo.png');background-size: 35px; background-repeat: no-repeat"  value="" actionListener="#{viajeBean.modificarViaje()}" 
                                             update="frmViaje:tablaViaje, mensaje" 
                                             oncomplete="PF('dialogProcesarViaje').hide();">
                            </p:commandButton>
                            <p:tooltip id="toolTipTrack" for="track" value="Cerrar captura del viaje" trackMouse="true" />
                            <p:commandButton id="track1" style="height: 35px; width: 60px; background-image: url('../..//Images/cancel.png');background-size: 25px; background-repeat: no-repeat"  value=""                                         
                                             oncomplete="PF('dialogProcesarViaje').hide();">                                            
                            </p:commandButton>
                            <p:tooltip id="toolTipTrack1" for="track1" value="Cancelar" trackMouse="true" />
                        </p:dialog>

                    </p:panel>
                </h:form>

                <h:form id="frmEliminarViaje" style="font-size: 12px;">
                    <p:growl id="mensaje" showSummary="true" showDetail="true"/>
                    <p:dialog  id="dlgEliminarUsuario"  header="Eliminar viaje" widgetVar="dialogEliminarViaje" resizable="false" 
                               showEffect="clip" hideEffect="clip" modal="true">
                        <h:outputText style="text-align: center" value="¿Desea eliminar este registro?"/><br></br><br></br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<p:commandButton id="track" style="height: 35px; width: 60px; background-image: url('../..//Images/yes.png');background-size: 25px; background-repeat: no-repeat"  value="" actionListener="#{viajeBean.eliminarViaje()}" 
                                                                             update="frmViaje:tablaViaje, mensaje,frmMain" 
                                                                             oncomplete="PF('dialogEliminarViaje').hide();">
                        </p:commandButton>
                        <p:tooltip id="toolTipTrack" for="track" value="Eliminar registro" trackMouse="true" />
                        &nbsp;&nbsp;&nbsp;<p:commandButton id="track1" style="height: 35px; width: 60px; background-image: url('../..//Images/cancel.png');background-size: 25px; background-repeat: no-repeat"  value=""                                         
                                                           oncomplete="PF('dialogEliminarViaje').hide();">                                             
                        </p:commandButton>
                        <p:tooltip id="toolTipTrack1" for="track1" value="Cancelar" trackMouse="true" />
                    </p:dialog>
                </h:form>   

                <h:form id="frmVigencia" style="font-size: 12px">
                    <p:blockUI block="pnlVig" trigger="cmdVigencia">   
                        <h4 style="font-size: 15px; color: black">Actualizando contraseña...</h4><br></br>
                        <p:graphicImage value="../../Images/updating.gif" style="height: 48px; width: 48px"/>
                    </p:blockUI>
                    <p:growl id="mensaje" showSummary="true" showDetail="true" autoUpdate="true"/>
                    <p:dialog id="dlgVigencia" header="Cambiar contraseña" widgetVar="dialogVigencia" closable="false">
                        <p:panel id="pnlVig">
                            <p:panelGrid id="pnlVigencia" columns="2" style="margin: auto 0">
                                <h:outputLabel for="pwd1" value="Contraseña anterior"></h:outputLabel>
                                <p:password id="pwd1" value="#{viajeBean.pwd1}" placeholder="Ingrese contraseña anterior" required="true" label="Ingrese contraseña anterior"></p:password>
                                <h:outputLabel for="pwd2" value="Nueva contreña" ></h:outputLabel>
                                <p:password id="pwd2" value="#{viajeBean.pwd2}" placeholder="Ingrese nueva contraseña" required="true" label="Ingrese nueva contraseña"></p:password>
                                <h:outputLabel for="pwd3" value="Repita contreña"></h:outputLabel>
                                <p:password id="pwd3" value="#{viajeBean.pwd3}" placeholder="Repita nueva contraseña" required="true" label="Repita nueva contraseña"></p:password>
                            </p:panelGrid>
                        </p:panel>
                        <p:commandButton id="cmdVigencia" value="Actualizar" update="pnlVigencia,mensaje" actionListener="#{viajeBean.actualizarContraseña()}"></p:commandButton>
                    </p:dialog>
                </h:form>

                <!--INICIA FORMULARIO VER DETALLE DEL GASTO DE VIAJE-->
                <h:form id="frmDetalleViaje">
                    <p:dialog id="dialogoDetalleViaje" header="DETALLE DEL GASTO" widgetVar="dlgVerDetalleViaje">

                        <p:outputLabel value="Folio: #{viajeBean.viajeConcepto.folioUsuario} Fecha: #{viajeBean.viajeConcepto.fechaDocumento} Departamento: #{viajeBean.viajeConcepto.departamento} Origen: #{viajeBean.viajeConcepto.origen} Destino: #{viajeBean.viajeConcepto.destino} Propósito: #{viajeBean.viajeConcepto.proposito} Fecha salida: #{viajeBean.viajeConcepto.fechaOrigen} Fecha llegada: #{viajeBean.viajeConcepto.fechaLlegada}" style="font-size: 13px; font-weight: bold"/><br></br>

                        <p:dataTable id="tablaDetalleViaje" paginator="true" 
                                     paginatorPosition="top" var="tbl" 
                                     value="#{viajeBean.listaConceptoViaje}">

                            <p:column headerText="Nombre concepto">
                                <h:outputText value="#{tbl.nombreConcepto}"/>
                            </p:column>

                            <p:column headerText="Factura">
                                <h:outputText value="#{tbl.factura}"/>
                            </p:column>

                            <p:column headerText="Gran total">
                                <h:outputText value="#{tbl.importe + tbl.iva + tbl.tua + tbl.propina}"/>
                            </p:column>

                            <p:column headerText="RFC">
                                <h:outputText value="#{tbl.rfc}"/>
                            </p:column>

                            <p:column headerText="Nombre">
                                <h:outputText value="#{tbl.nombre}"/>
                            </p:column>

                            <p:column headerText="PDF FACTURA" style="width: 50px">
                                <p:spacer width="20" height="10" />
                                <p:button id="pdf" disabled="#{empty tbl.rutaPdf}" target="_blank" href="#{tbl.rutaPdf}" 
                                          value="" style="background-image: url('../..//Images/pdf.ico');height: 30px; 
                                          width: 30px; background-size: 30px; background-repeat: no-repeat"/>
                                <p:tooltip id="ToolPDF" for="pdf" trackMouse="true" value="Ver PDF de la factura"/>
                            </p:column>

                            <p:column headerText="XML" style="width: 50px">
                                <p:spacer width="20" height="10" />
                                <p:button id="xml" disabled="#{empty tbl.rutaXml}" target="_blank" href="#{tbl.rutaXml}" 
                                          value="" style="background-image: url('../..//Images/xml-file.ico');height: 30px; 
                                          width: 30px; background-size: 30px; background-repeat: no-repeat"/>
                                <p:tooltip id="TollXML" for="xml" trackMouse="true" value="Ver XML de la factura"/>
                            </p:column>

                            <p:column headerText="Imagen" style="width: 30px">
                                <p:spacer width="20" height="10" />
                                <p:button id="jpg" disabled="#{empty tbl.rutaImagen}" target="_blank" href="#{tbl.rutaImagen}" 
                                          value="" style="background-image: url('../..//Images/canon.png');height: 30px; 
                                          width: 30px; background-size: 30px; background-repeat: no-repeat"/>           
                                <p:tooltip id="ToolXMLp" for="jpg" trackMouse="true" value="Ver imagen del comprobante "/>
                            </p:column>

                            <p:column headerText="Imagen gastos" style="width: 30px">
                                <p:spacer width="20" height="10" />

                                <p:commandButton id="jpgG" style="height: 30px; width: 30px; background-image: url('../..//Images/canon.png');
                                                 background-size: 30px; background-repeat: no-repeat"
                                                 value="" disabled="#{empty tbl.imagen}" oncomplete="PF('dialogVerIMG').show();" update="frmVerIMG">
                                    <f:setPropertyActionListener target="#{conceptoAsignacionBean.concepto}" value="#{tbl}"/>
                                </p:commandButton>          
                                <p:tooltip id="ToolXMLG" for="jpgG" trackMouse="true" value="Ver imagen del comprobante "/>
                            </p:column>

                            <p:column headerText="PDF-XML" style="width: 50px">
                                <p:spacer width="20" height="10" />

                                <h:commandLink id="pdfxml"  
                                               value="" actionListener="#{viajeBean.xmlPdf(tbl.uuid)}"
                                               target="_blank">
                                    <p:graphicImage url="../..//Images/pdf-logo.png"
                                                    style="height: 40px; width: 40px; 
                                                    background-size: 40px; background-repeat: no-repeat"/>
                                    <f:setPropertyActionListener target="#{viajeBean.viajeConcepto}" value="#{tbl}"/>
                                </h:commandLink>
                                <p:tooltip id="ToolXMLPDF" for="pdfxml" trackMouse="true" value="Ver
                                           pdf del xml "/>
                            </p:column>

                        </p:dataTable>
                    </p:dialog>
                </h:form>
                <!--FINALIZA FORMULARIO VER DETALLE DEL GASTO DE VIAJE-->

                <!--INICIA FORMULARIO PARA VISUALIZAR EL PDF-->
                <h:form id="frmVerPdfXml">
                    <p:growl id="mensaje" showSummary="true" showDetail="true"/>
                    <p:dialog style="font-size: 12px;" id="dlgVerXML" header="Visualizar factura del XML" widgetVar="dialogVerXML" resizable="false" 
                              showEffect="clip" hideEffect="clip" modal="true">
                        <p:panelGrid columns="1" style="margin: 0 auto">
                            <p:outputLabel value="UUID"/>
                            <p:inputText id="uuid" value="#{conceptoBean.concepto.uuid}" style="width: 250px" readonly="true"/>
                        </p:panelGrid><br></br>
                        <p:spacer width="110px" height="5px"></p:spacer>
                        <h:commandLink id="reporte" 
                                       value="" 
                                       style="height: 30px;  font-size: 16px" 
                                       target="_blank" 
                                       actionListener="#{viajeBean.visualizarCFDI_PDF()}" onclick="PF('dialogVerXML').hide()">
                            <h:graphicImage url="/Images/cdfi-pdf.png" style="height: 80px"/> 
                        </h:commandLink>                       
                    </p:dialog>

                </h:form>
                <!--FINALIZA FORMULARIO PARA VISUALIZAR EL PDF-->

                <!--INICIA FORMULARIO PARA VISUALIZAR LA IMAGEN DEL VIÁTICO-->
                <h:form id="frmVerIMG">
                    <p:growl id="mensaje" showSummary="true" showDetail="true"/>
                    <p:dialog style="font-size: 12px;" id="dlgVer" header="Visualizar Imagen" widgetVar="dialogVerIMG" resizable="false" 
                              showEffect="clip" hideEffect="clip" modal="true">
                        <p:panelGrid columns="1" style="margin: 0 auto">
                            <p:outputLabel value="Factura Imagen"/>
                            <h:commandLink value="Ver imagen" actionListener="#{conceptoAsignacionBean.verImagen()}" target="_blank"/>
                        </p:panelGrid>
                    </p:dialog>
                </h:form>
            <!--FINALIZA FORMULARIO PARA VISUALIZAR LA IMAGEN DEL VIÁTICO-->
            </ui:define>

        </ui:composition>        

    </h:body>    
</html>
