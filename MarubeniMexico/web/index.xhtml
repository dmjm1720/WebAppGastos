<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Login</title>
        <h:outputStylesheet name="css/login1.css"></h:outputStylesheet>
    </h:head>
    <h:body>
        <div class="login">
            <h:form id="formLogin" style="text-align: center">            
                <p:growl id="mensajeGeneral" 
                         sticky="true"
                         autoUpdate="true"
                         showDetail="true" 
                         life="3000" />
                <!--<p:messages id="mensajeGeneral" showDetail="true" autoUpdate="true"></p:messages>-->
                <p:panel header="SISTEMA DE GASTOS" widgetVar="dlg">
                    <br></br>
                    <h:graphicImage url="/Images/marubeni-logo.png"></h:graphicImage>
                    <br></br>
                    <br></br>
                    <h:panelGrid columns="2" cellpadding="5">
                        <h:graphicImage url="/Images/user.ico" ></h:graphicImage>
                        <p:inputText id="usuario" style="width: 250px" value="#{loginBean.usuario.nombre}" placeholder="Ingresa tu usuario" required="true" label="username" requiredMessage="Requiere Usuario" onkeyup="javascript:this.value = this.value.toUpperCase();"/>
                        <h:graphicImage url="/Images/password.ico" ></h:graphicImage>
                        <p:password id="password" style="width: 250px;" placeholder="Ingresa tu password" value="#{loginBean.usuario.clave}" required="true" label="password" requiredMessage="Requiere Password"/>
                        <f:facet name="footer">
                            <p:commandButton id="inicio"
                                             update="@all"
                                             style="height: 40px; width: 80px; background-image: url('Images/sso-icon.png');background-size: 30px; background-repeat: no-repeat"
                                             value="" 
                                             actionListener="#{loginBean.login()}">
                            </p:commandButton>
                            <p:tooltip id="toolTipTrack" for="inicio" value="Iniciar sesión" trackMouse="true"></p:tooltip>
                            <p:tooltip id="toolTipTrack1" for="password" value="Introduce tu contraseña" trackMouse="true"></p:tooltip>
                            <p:tooltip id="toolTipTrack2" for="usuario" value="Introduce tu usuario" trackMouse="true"></p:tooltip>
                        </f:facet>  
                    </h:panelGrid>
                </p:panel>
            </h:form>
        </div>
        <script type="text/javascript">
            function handleLoginRequest(xhr, status, args) {
                if (args.validationFailed || !args.loggedIn) {
                    jQuery('#formLogin').jq.effect("shake", {times: 1}, 100);
                } else {
                    location.href = args.ruta;
                }
            }
        </script>

    </h:body>
</html>

